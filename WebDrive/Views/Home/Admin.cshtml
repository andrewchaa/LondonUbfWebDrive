@{
    ViewBag.Title = "Admin";
}

<h3>Admin</h3>

<div class="row">
    <div class="span9">
        <table class="table table-hover table-striped table-condensed">
            <tbody data-bind="foreach: documents" id="fileList">
                <tr>
                    <td class="span1" data-bind="text: FullName"></td>
                    <td class="span1" data-bind="text: DownloadTime"></td>
                </tr>
            </tbody>
        </table>
    </div>
    <div class="span3">&nbsp;</div>
</div>

<script type="text/javascript">

    var MetadataViewModel = function() {
        var self = this;

        self.documents = ko.observableArray();
        self.list = function() {
            $.get('/api/metadata', function(data) {
                self.documents(data);
            });
        };
    };

    $(function() {
        var viewModel = new MetadataViewModel();
        ko.applyBindings(viewModel);

        viewModel.list();
    })    

</script>